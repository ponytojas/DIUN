# Docker Notify Environment Configuration
# Copy this file to .env and modify the values according to your setup

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# How often to check for image updates (examples: "30m", "1h", "24h")
CHECK_INTERVAL=30m

# Timezone for scheduling (examples: "UTC", "America/New_York", "Europe/London")
TIMEZONE=UTC

# Maximum number of concurrent registry API calls
MAX_CONCURRENCY=10

# Timeout for registry API calls
REGISTRY_TIMEOUT=30s

# =============================================================================
# DOCKER SETTINGS
# =============================================================================

# Docker socket path
DOCKER_SOCKET=unix:///var/run/docker.sock

# Docker API version (leave empty for auto-negotiation)
DOCKER_API_VERSION=

# =============================================================================
# IMAGE FILTERING
# =============================================================================

# Whether to check images with 'latest' tag
CHECK_LATEST=false

# Whether to check images from private registries
CHECK_PRIVATE=true

# Whitelist: only check these image patterns (comma-separated, empty = check all)
INCLUDE_PATTERNS=

# Blacklist: exclude these image patterns (comma-separated)
EXCLUDE_PATTERNS=*:latest,scratch:*

# Exclude pre-release versions (alpha, beta, rc, dev, etc.)
EXCLUDE_PRERELEASE=true

# Exclude Windows variants
EXCLUDE_WINDOWS=true

# Only consider stable semantic versions
ONLY_STABLE=true

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Enabled notification channels (comma-separated): "email,telegram"
NOTIFICATION_CHANNELS=telegram

# =============================================================================
# EMAIL SETTINGS (if email channel is enabled)
# =============================================================================

# SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# Email addresses
EMAIL_FROM=docker-notify@yourdomain.com
EMAIL_TO=admin@yourdomain.com,devops@yourdomain.com
EMAIL_SUBJECT=Docker Image Updates Available

# =============================================================================
# TELEGRAM SETTINGS (if telegram channel is enabled)
# =============================================================================

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE

# Chat IDs (comma-separated, get from @userinfobot)
TELEGRAM_CHAT_IDS=123456789,-987654321

# Message formatting: HTML, Markdown, or empty
TELEGRAM_PARSE_MODE=HTML

# =============================================================================
# NOTIFICATION BEHAVIOR
# =============================================================================

# Only notify once per image update
ONCE_PER_UPDATE=true

# Minimum time between notifications for same image
COOLDOWN_PERIOD=24h

# Group multiple updates into single notification
GROUP_UPDATES=true

# Maximum updates per notification
MAX_UPDATES_PER_NOTIFICATION=10

# =============================================================================
# LOGGING
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# ALTERNATIVE: FULL CONFIG AS YAML
# =============================================================================

# Instead of individual variables above, you can provide the entire
# configuration as YAML. This takes precedence over the config file.
# Uncomment and modify as needed:

# CONFIG_CONTENT=|
#   app:
#     check_interval: "30m"
#     timezone: "UTC"
#   docker:
#     socket_path: "unix:///var/run/docker.sock"
#     filters:
#       exclude: ["*:latest", "scratch:*"]
#       check_latest: false
#   notifications:
#     channels: ["telegram"]
#     telegram:
#       bot_token: "YOUR_BOT_TOKEN"
#       chat_ids: [123456789]
#   logging:
#     level: "info"
